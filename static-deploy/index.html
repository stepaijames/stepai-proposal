<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STEP AI ì •ë¶€ì§€ì›ì‚¬ì—… í˜„í™©</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif; background: #f8fafc; min-height: 100vh; color: #1e293b; padding: 24px; font-size: 16px; }
        .container { max-width: 1400px; margin: 0 auto; }
        .header { text-align: center; margin-bottom: 32px; padding: 32px; background: #fff; border-radius: 16px; box-shadow: 0 1px 3px rgba(0,0,0,0.08); }
        .header h1 { font-size: 2rem; margin-bottom: 8px; color: #0f172a; font-weight: 700; }
        .header .update-date { color: #64748b; font-size: 1rem; }
        .pipeline-section { background: #fff; border-radius: 16px; padding: 24px; margin-bottom: 32px; box-shadow: 0 1px 3px rgba(0,0,0,0.08); }
        .pipeline-title { font-size: 1.1rem; color: #475569; margin-bottom: 20px; font-weight: 600; }
        .pipeline { display: flex; gap: 8px; overflow-x: auto; padding-bottom: 8px; }
        .pipeline-stage { flex: 1; min-width: 140px; padding: 16px 12px; border-radius: 12px; text-align: center; cursor: pointer; transition: all 0.2s; border: 2px solid transparent; position: relative; }
        .pipeline-stage:hover { transform: translateY(-2px); }
        .pipeline-stage.active { border-color: #3b82f6; box-shadow: 0 4px 12px rgba(59, 130, 246, 0.2); }
        .pipeline-stage .stage-icon { font-size: 1.5rem; margin-bottom: 8px; }
        .pipeline-stage .stage-count { font-size: 1.8rem; font-weight: 700; margin-bottom: 4px; }
        .pipeline-stage .stage-label { font-size: 0.9rem; font-weight: 600; }
        .stage-all { background: #f1f5f9; } .stage-all .stage-count { color: #475569; } .stage-all .stage-label { color: #64748b; }
        .stage-review { background: #fef3c7; } .stage-review .stage-count { color: #b45309; } .stage-review .stage-label { color: #92400e; }
        .stage-preparing { background: #dbeafe; } .stage-preparing .stage-count { color: #1d4ed8; } .stage-preparing .stage-label { color: #1e40af; }
        .stage-submitted { background: #e0e7ff; } .stage-submitted .stage-count { color: #4338ca; } .stage-submitted .stage-label { color: #3730a3; }
        .stage-evaluating { background: #fce7f3; } .stage-evaluating .stage-count { color: #be185d; } .stage-evaluating .stage-label { color: #9d174d; }
        .stage-passed { background: #d1fae5; } .stage-passed .stage-count { color: #047857; } .stage-passed .stage-label { color: #065f46; }
        .stage-pending { background: #fed7aa; } .stage-pending .stage-count { color: #c2410c; } .stage-pending .stage-label { color: #9a3412; }
        .pipeline-stage:not(:last-child)::after { content: 'â†’'; position: absolute; right: -14px; top: 50%; transform: translateY(-50%); color: #cbd5e1; font-size: 1.2rem; font-weight: bold; }
        .cards-section { margin-bottom: 32px; }
        .section-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .section-title { font-size: 1.3rem; color: #0f172a; font-weight: 700; }
        .filter-info { font-size: 0.95rem; color: #64748b; background: #f1f5f9; padding: 8px 16px; border-radius: 20px; }
        .cards-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(380px, 1fr)); gap: 20px; }
        .project-card { background: #fff; border-radius: 16px; overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,0.08); transition: all 0.3s; border: 2px solid #e2e8f0; display: none; }
        .project-card.visible { display: block; }
        .project-card:hover { transform: translateY(-4px); box-shadow: 0 12px 24px rgba(0,0,0,0.1); border-color: #cbd5e1; }
        .card-header { padding: 20px 24px; display: flex; justify-content: space-between; align-items: flex-start; border-bottom: 1px solid #f1f5f9; }
        .card-badge { display: inline-flex; align-items: center; gap: 6px; padding: 6px 12px; border-radius: 20px; font-size: 0.85rem; font-weight: 600; margin-bottom: 10px; }
        .badge-review { background: #fef3c7; color: #92400e; }
        .badge-preparing { background: #dbeafe; color: #1e40af; }
        .badge-submitted { background: #e0e7ff; color: #3730a3; }
        .badge-evaluating { background: #fce7f3; color: #9d174d; }
        .badge-passed { background: #d1fae5; color: #065f46; }
        .badge-pending { background: #fed7aa; color: #9a3412; }
        .card-title { font-size: 1.15rem; font-weight: 700; margin-bottom: 6px; line-height: 1.4; color: #0f172a; }
        .card-org { font-size: 0.9rem; color: #64748b; font-weight: 500; }
        .d-day { background: #ef4444; color: #fff; padding: 8px 14px; border-radius: 8px; font-weight: 700; font-size: 0.95rem; white-space: nowrap; }
        .d-day.safe { background: #22c55e; }
        .d-day.warning { background: #f59e0b; }
        .d-day.complete { background: #6366f1; }
        .card-body { padding: 20px 24px; }
        .card-info { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 16px; }
        .info-item { background: #f8fafc; padding: 12px 14px; border-radius: 10px; border: 1px solid #e2e8f0; }
        .info-label { font-size: 0.75rem; color: #64748b; margin-bottom: 4px; text-transform: uppercase; letter-spacing: 0.5px; font-weight: 600; }
        .info-value { font-size: 1rem; font-weight: 600; color: #1e293b; }
        .progress-section { margin-bottom: 16px; }
        .progress-header { display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 0.9rem; }
        .progress-label { color: #64748b; font-weight: 500; }
        .progress-value { color: #3b82f6; font-weight: 700; }
        .progress-bar { height: 8px; background: #e2e8f0; border-radius: 10px; overflow: hidden; }
        .progress-fill { height: 100%; border-radius: 10px; background: linear-gradient(90deg, #3b82f6, #8b5cf6); transition: width 0.5s ease; }

        /* Status Dropdown Styles */
        .status-dropdown-wrapper { margin-bottom: 16px; }
        .status-dropdown-label { font-size: 0.75rem; color: #64748b; margin-bottom: 6px; text-transform: uppercase; letter-spacing: 0.5px; font-weight: 600; }
        .status-dropdown {
            width: 100%;
            padding: 12px 16px;
            font-size: 0.95rem;
            font-weight: 600;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            background: #fff;
            color: #1e293b;
            cursor: pointer;
            transition: all 0.2s;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%2364748b'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 12px center;
            background-size: 20px;
        }
        .status-dropdown:hover { border-color: #3b82f6; }
        .status-dropdown:focus { outline: none; border-color: #3b82f6; box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1); }
        .status-dropdown.status-review { background-color: #fef3c7; border-color: #fbbf24; color: #92400e; }
        .status-dropdown.status-preparing { background-color: #dbeafe; border-color: #60a5fa; color: #1e40af; }
        .status-dropdown.status-submitted { background-color: #e0e7ff; border-color: #818cf8; color: #3730a3; }
        .status-dropdown.status-evaluating { background-color: #fce7f3; border-color: #f472b6; color: #9d174d; }
        .status-dropdown.status-passed { background-color: #d1fae5; border-color: #34d399; color: #065f46; }
        .status-dropdown.status-pending { background-color: #fed7aa; border-color: #fb923c; color: #9a3412; }

        .link-btn { display: inline-flex; align-items: center; justify-content: center; gap: 8px; width: 100%; background: #3b82f6; color: #fff; padding: 12px 16px; border-radius: 10px; font-size: 0.95rem; font-weight: 600; text-decoration: none; transition: background 0.2s, transform 0.2s; }
        .link-btn:hover { background: #2563eb; transform: translateY(-1px); }
        .link-btn svg { width: 18px; height: 18px; }
        .footer { text-align: center; padding: 24px; color: #64748b; font-size: 0.95rem; background: #fff; border-radius: 16px; box-shadow: 0 1px 3px rgba(0,0,0,0.08); }
        .footer a { color: #3b82f6; text-decoration: none; font-weight: 600; }
        .footer a:hover { text-decoration: underline; }
        .empty-state { text-align: center; padding: 60px 20px; color: #94a3b8; display: none; }
        .empty-state.visible { display: block; }
        .empty-state .empty-icon { font-size: 3rem; margin-bottom: 16px; }
        .empty-state .empty-text { font-size: 1.1rem; }
        .star { color: #f59e0b; margin-left: 4px; }

        /* Loading & Save indicator */
        .save-indicator {
            position: fixed;
            bottom: 24px;
            right: 24px;
            padding: 12px 20px;
            border-radius: 10px;
            font-weight: 600;
            font-size: 0.9rem;
            z-index: 1000;
            transition: all 0.3s;
            opacity: 0;
            transform: translateY(20px);
        }
        .save-indicator.show { opacity: 1; transform: translateY(0); }
        .save-indicator.saving { background: #dbeafe; color: #1e40af; }
        .save-indicator.saved { background: #d1fae5; color: #065f46; }
        .save-indicator.error { background: #fee2e2; color: #991b1b; }

        @media (max-width: 768px) { .header h1 { font-size: 1.5rem; } .pipeline { flex-wrap: wrap; } .pipeline-stage { min-width: calc(33% - 8px); } .pipeline-stage::after { display: none; } .cards-grid { grid-template-columns: 1fr; } body { padding: 16px; } }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>STEP AI ì •ë¶€ì§€ì›ì‚¬ì—… í˜„í™©</h1>
            <p class="update-date">ğŸ“… 2026. 2. 3 (í™”) ì—…ë°ì´íŠ¸</p>
        </div>
        <div class="pipeline-section">
            <div class="pipeline-title">ğŸ“Š ì§„í–‰ ë‹¨ê³„ë³„ í˜„í™© (í´ë¦­í•˜ì—¬ í•„í„°ë§)</div>
            <div class="pipeline">
                <div class="pipeline-stage stage-all active" data-filter="all"><div class="stage-icon">ğŸ“‹</div><div class="stage-count" id="count-all">7</div><div class="stage-label">ì „ì²´</div></div>
                <div class="pipeline-stage stage-review" data-filter="review"><div class="stage-icon">ğŸ”</div><div class="stage-count" id="count-review">0</div><div class="stage-label">ê²€í† ì¤‘</div></div>
                <div class="pipeline-stage stage-preparing" data-filter="preparing"><div class="stage-icon">âœï¸</div><div class="stage-count" id="count-preparing">0</div><div class="stage-label">ì¤€ë¹„ì¤‘</div></div>
                <div class="pipeline-stage stage-submitted" data-filter="submitted"><div class="stage-icon">ğŸ“¤</div><div class="stage-count" id="count-submitted">0</div><div class="stage-label">ì œì¶œì™„ë£Œ</div></div>
                <div class="pipeline-stage stage-evaluating" data-filter="evaluating"><div class="stage-icon">â³</div><div class="stage-count" id="count-evaluating">0</div><div class="stage-label">ì‹¬ì‚¬ì¤‘</div></div>
                <div class="pipeline-stage stage-passed" data-filter="passed"><div class="stage-icon">âœ…</div><div class="stage-count" id="count-passed">0</div><div class="stage-label">í•©ê²©/ì™„ë£Œ</div></div>
                <div class="pipeline-stage stage-pending" data-filter="pending"><div class="stage-icon">ğŸ”„</div><div class="stage-count" id="count-pending">0</div><div class="stage-label">ë³´ì™„ì¤‘</div></div>
            </div>
        </div>
        <div class="cards-section">
            <div class="section-header"><h2 class="section-title">ğŸ“‹ ì‚¬ì—… ëª©ë¡</h2><span class="filter-info" id="filterInfo">ì „ì²´ 7ê±´</span></div>
            <div class="cards-grid" id="cardsGrid">
                <!-- Card 1: ì´ˆê¸°ì°½ì—…íŒ¨í‚¤ì§€ -->
                <div class="project-card visible" data-stage="preparing" data-project-id="startup">
                    <div class="card-header">
                        <div>
                            <span class="card-badge badge-preparing">âœï¸ ì¤€ë¹„ì¤‘</span>
                            <div class="card-title">ì´ˆê¸°ì°½ì—…íŒ¨í‚¤ì§€ (ì¼ë°˜í˜•)</div>
                            <div class="card-org">ì¤‘ì†Œë²¤ì²˜ê¸°ì—…ë¶€ / ì°½ì—…ì§„í¥ì›</div>
                        </div>
                        <div class="d-day">D-10</div>
                    </div>
                    <div class="card-body">
                        <div class="card-info">
                            <div class="info-item"><div class="info-label">ë§ˆê°ì¼</div><div class="info-value">2/13 (ëª©) 16:00</div></div>
                            <div class="info-item"><div class="info-label">ì§€ì›ê¸ˆ</div><div class="info-value">ìµœëŒ€ 1ì–µì›</div></div>
                            <div class="info-item"><div class="info-label">ì œì¶œì²˜</div><div class="info-value">K-Startup</div></div>
                            <div class="info-item"><div class="info-label">ìœ í˜•</div><div class="info-value">ì •ë¶€ì§€ì›ì‚¬ì—…</div></div>
                        </div>
                        <div class="status-dropdown-wrapper">
                            <div class="status-dropdown-label">ìƒíƒœ ë³€ê²½</div>
                            <select class="status-dropdown status-preparing" data-project-id="startup" onchange="updateStatus(this)">
                                <option value="review">ğŸ” ê²€í† ì¤‘</option>
                                <option value="preparing" selected>âœï¸ ì¤€ë¹„ì¤‘</option>
                                <option value="submitted">ğŸ“¤ ì œì¶œì™„ë£Œ</option>
                                <option value="evaluating">â³ ì‹¬ì‚¬ì¤‘</option>
                                <option value="passed">âœ… í•©ê²©/ì™„ë£Œ</option>
                                <option value="pending">ğŸ”„ ë³´ì™„ì¤‘</option>
                            </select>
                        </div>
                        <div class="progress-section">
                            <div class="progress-header"><span class="progress-label">ì§„í–‰ë¥ </span><span class="progress-value">20%</span></div>
                            <div class="progress-bar"><div class="progress-fill" style="width: 20%"></div></div>
                        </div>
                        <a href="https://www.k-startup.go.kr/web/contents/bizpbanc-ongoing.do?pbancClssCd=PBC010&schM=view&pbancSn=176019" target="_blank" class="link-btn">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" /></svg>
                            ê³µê³  ë°”ë¡œê°€ê¸°
                        </a>
                    </div>
                </div>

                <!-- Card 2: K-Culture ëŒ€ì¤‘ì†Œ ê³µë™ë„ì•½ -->
                <div class="project-card visible" data-stage="preparing" data-project-id="kculture">
                    <div class="card-header">
                        <div>
                            <span class="card-badge badge-preparing">âœï¸ ì¤€ë¹„ì¤‘</span>
                            <div class="card-title">K-Culture ëŒ€ì¤‘ì†Œ ê³µë™ë„ì•½ <span class="star">â­</span></div>
                            <div class="card-org">ë¬¸í™”ì²´ìœ¡ê´€ê´‘ë¶€ / í•œêµ­ì½˜í…ì¸ ì§„í¥ì›</div>
                        </div>
                        <div class="d-day warning">D-22</div>
                    </div>
                    <div class="card-body">
                        <div class="card-info">
                            <div class="info-item"><div class="info-label">ë§ˆê°ì¼</div><div class="info-value">2/25 (ìˆ˜) 14:00</div></div>
                            <div class="info-item"><div class="info-label">ì§€ì›ê¸ˆ (3ë…„)</div><div class="info-value">ì•½ 77ì–µì›</div></div>
                            <div class="info-item"><div class="info-label">ì œì¶œì²˜</div><div class="info-value">IRIS</div></div>
                            <div class="info-item"><div class="info-label">ìœ í˜•</div><div class="info-value">ì •ë¶€ì§€ì›ì‚¬ì—…</div></div>
                        </div>
                        <div class="status-dropdown-wrapper">
                            <div class="status-dropdown-label">ìƒíƒœ ë³€ê²½</div>
                            <select class="status-dropdown status-preparing" data-project-id="kculture" onchange="updateStatus(this)">
                                <option value="review">ğŸ” ê²€í† ì¤‘</option>
                                <option value="preparing" selected>âœï¸ ì¤€ë¹„ì¤‘</option>
                                <option value="submitted">ğŸ“¤ ì œì¶œì™„ë£Œ</option>
                                <option value="evaluating">â³ ì‹¬ì‚¬ì¤‘</option>
                                <option value="passed">âœ… í•©ê²©/ì™„ë£Œ</option>
                                <option value="pending">ğŸ”„ ë³´ì™„ì¤‘</option>
                            </select>
                        </div>
                        <div class="progress-section">
                            <div class="progress-header"><span class="progress-label">ì§„í–‰ë¥ </span><span class="progress-value">30%</span></div>
                            <div class="progress-bar"><div class="progress-fill" style="width: 30%"></div></div>
                        </div>
                        <a href="https://www.kocca.kr/kocca/pims/view.do?intcNo=226D00079001&menuNo=204104&recptSt=204104&category=&pageIndex=2&search=01&searchWrd=" target="_blank" class="link-btn">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" /></svg>
                            ê³µê³  ë°”ë¡œê°€ê¸°
                        </a>
                    </div>
                </div>

                <!-- Card 3: KOCCA ê¸°ì—…ì°½ì‘ì „ë‹´ë¶€ì„œ -->
                <div class="project-card visible" data-stage="preparing" data-project-id="kocca-creative">
                    <div class="card-header">
                        <div>
                            <span class="card-badge badge-preparing">âœï¸ ì¤€ë¹„ì¤‘</span>
                            <div class="card-title">KOCCA ê¸°ì—…ì°½ì‘ì „ë‹´ë¶€ì„œ ì¸ì •</div>
                            <div class="card-org">ë¬¸í™”ì²´ìœ¡ê´€ê´‘ë¶€ / í•œêµ­ì½˜í…ì¸ ì§„í¥ì›</div>
                        </div>
                        <div class="d-day warning">D-24</div>
                    </div>
                    <div class="card-body">
                        <div class="card-info">
                            <div class="info-item"><div class="info-label">ë§ˆê°ì¼</div><div class="info-value">2/27 (ê¸ˆ) 16:00</div></div>
                            <div class="info-item"><div class="info-label">í˜œíƒ</div><div class="info-value">ë²•ì¸ì„¸ ì„¸ì•¡ê³µì œ</div></div>
                            <div class="info-item"><div class="info-label">ì œì¶œì²˜</div><div class="info-value">rnd.kocca.kr</div></div>
                            <div class="info-item"><div class="info-label">ìœ í˜•</div><div class="info-value">ì¸ì¦/ì‹ ê³ </div></div>
                        </div>
                        <div class="status-dropdown-wrapper">
                            <div class="status-dropdown-label">ìƒíƒœ ë³€ê²½</div>
                            <select class="status-dropdown status-preparing" data-project-id="kocca-creative" onchange="updateStatus(this)">
                                <option value="review">ğŸ” ê²€í† ì¤‘</option>
                                <option value="preparing" selected>âœï¸ ì¤€ë¹„ì¤‘</option>
                                <option value="submitted">ğŸ“¤ ì œì¶œì™„ë£Œ</option>
                                <option value="evaluating">â³ ì‹¬ì‚¬ì¤‘</option>
                                <option value="passed">âœ… í•©ê²©/ì™„ë£Œ</option>
                                <option value="pending">ğŸ”„ ë³´ì™„ì¤‘</option>
                            </select>
                        </div>
                        <div class="progress-section">
                            <div class="progress-header"><span class="progress-label">ì§„í–‰ë¥ </span><span class="progress-value">25%</span></div>
                            <div class="progress-bar"><div class="progress-fill" style="width: 25%"></div></div>
                        </div>
                        <a href="https://www.kocca.kr/kocca/bbs/view/B0000137/2010505.do?menuNo=204802" target="_blank" class="link-btn">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" /></svg>
                            ê³µê³  ë°”ë¡œê°€ê¸°
                        </a>
                    </div>
                </div>

                <!-- Card 4: ë°©ì†¡ì˜ìƒì½˜í…ì¸ ì œì‘ì§€ì› -->
                <div class="project-card visible" data-stage="review" data-project-id="broadcast-docu">
                    <div class="card-header">
                        <div>
                            <span class="card-badge badge-review">ğŸ” ê²€í† ì¤‘</span>
                            <div class="card-title">ë°©ì†¡ì˜ìƒì½˜í…ì¸ ì œì‘ì§€ì› (ë‹¤í)</div>
                            <div class="card-org">í•œêµ­ì½˜í…ì¸ ì§„í¥ì› (KOCCA)</div>
                        </div>
                        <div class="d-day safe">D-29</div>
                    </div>
                    <div class="card-body">
                        <div class="card-info">
                            <div class="info-item"><div class="info-label">ë§ˆê°ì¼</div><div class="info-value">3/4 (ìˆ˜) 14:00</div></div>
                            <div class="info-item"><div class="info-label">ì§€ì›ê¸ˆ</div><div class="info-value">ìµœëŒ€ 1.5ì–µì›</div></div>
                            <div class="info-item"><div class="info-label">ì œì¶œì²˜</div><div class="info-value">eë‚˜ë¼ë„ì›€</div></div>
                            <div class="info-item"><div class="info-label">ìœ í˜•</div><div class="info-value">ì •ë¶€ì§€ì›ì‚¬ì—…</div></div>
                        </div>
                        <div class="status-dropdown-wrapper">
                            <div class="status-dropdown-label">ìƒíƒœ ë³€ê²½</div>
                            <select class="status-dropdown status-review" data-project-id="broadcast-docu" onchange="updateStatus(this)">
                                <option value="review" selected>ğŸ” ê²€í† ì¤‘</option>
                                <option value="preparing">âœï¸ ì¤€ë¹„ì¤‘</option>
                                <option value="submitted">ğŸ“¤ ì œì¶œì™„ë£Œ</option>
                                <option value="evaluating">â³ ì‹¬ì‚¬ì¤‘</option>
                                <option value="passed">âœ… í•©ê²©/ì™„ë£Œ</option>
                                <option value="pending">ğŸ”„ ë³´ì™„ì¤‘</option>
                            </select>
                        </div>
                        <div class="progress-section">
                            <div class="progress-header"><span class="progress-label">ì§„í–‰ë¥ </span><span class="progress-value">10%</span></div>
                            <div class="progress-bar"><div class="progress-fill" style="width: 10%"></div></div>
                        </div>
                        <a href="https://www.kocca.kr/kocca/pims/view.do?intcNo=126J261007&menuNo=204104&recptSt=&category=&pageIndex=1&search=&searchWrd=" target="_blank" class="link-btn">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" /></svg>
                            ê³µê³  ë°”ë¡œê°€ê¸°
                        </a>
                    </div>
                </div>

                <!-- Card 5: ë²¤ì²˜ê¸°ì—… ì¸ì¦ -->
                <div class="project-card visible" data-stage="evaluating" data-project-id="venture">
                    <div class="card-header">
                        <div>
                            <span class="card-badge badge-evaluating">â³ ì‹¬ì‚¬ì¤‘</span>
                            <div class="card-title">ë²¤ì²˜ê¸°ì—… ì¸ì¦</div>
                            <div class="card-org">ì¤‘ì†Œë²¤ì²˜ê¸°ì—…ë¶€ / ë²¤ì²˜ì¸</div>
                        </div>
                        <div class="d-day warning">D-8</div>
                    </div>
                    <div class="card-body">
                        <div class="card-info">
                            <div class="info-item"><div class="info-label">ì‹¬ì‚¬ì¼</div><div class="info-value">2/11 (í™”) ìµœì¢…ì‹¬ì˜</div></div>
                            <div class="info-item"><div class="info-label">í˜œíƒ</div><div class="info-value">ì„¸ì œ/ê¸ˆìœµ í˜œíƒ</div></div>
                            <div class="info-item"><div class="info-label">ë‹´ë‹¹ì</div><div class="info-value">ì´í˜¸ì‹  ë°•ì‚¬</div></div>
                            <div class="info-item"><div class="info-label">ìœ í˜•</div><div class="info-value">ì¸ì¦/ì‹ ê³ </div></div>
                        </div>
                        <div class="status-dropdown-wrapper">
                            <div class="status-dropdown-label">ìƒíƒœ ë³€ê²½</div>
                            <select class="status-dropdown status-evaluating" data-project-id="venture" onchange="updateStatus(this)">
                                <option value="review">ğŸ” ê²€í† ì¤‘</option>
                                <option value="preparing">âœï¸ ì¤€ë¹„ì¤‘</option>
                                <option value="submitted">ğŸ“¤ ì œì¶œì™„ë£Œ</option>
                                <option value="evaluating" selected>â³ ì‹¬ì‚¬ì¤‘</option>
                                <option value="passed">âœ… í•©ê²©/ì™„ë£Œ</option>
                                <option value="pending">ğŸ”„ ë³´ì™„ì¤‘</option>
                            </select>
                        </div>
                        <div class="progress-section">
                            <div class="progress-header"><span class="progress-label">ì§„í–‰ë¥ </span><span class="progress-value">90%</span></div>
                            <div class="progress-bar"><div class="progress-fill" style="width: 90%"></div></div>
                        </div>
                        <a href="https://www.smes.go.kr/venturein/home/viewHome" target="_blank" class="link-btn">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" /></svg>
                            ë²¤ì²˜ì¸ ë°”ë¡œê°€ê¸°
                        </a>
                    </div>
                </div>

                <!-- Card 6: ë°©ì†¡ì˜ìƒë…ë¦½ì œì‘ì‚¬ ì‹ ê³  -->
                <div class="project-card visible" data-stage="passed" data-project-id="broadcast-producer">
                    <div class="card-header">
                        <div>
                            <span class="card-badge badge-passed">âœ… ì™„ë£Œ</span>
                            <div class="card-title">ë°©ì†¡ì˜ìƒë…ë¦½ì œì‘ì‚¬ ì‹ ê³ </div>
                            <div class="card-org">ë¬¸í™”ì²´ìœ¡ê´€ê´‘ë¶€</div>
                        </div>
                        <div class="d-day complete">ì™„ë£Œ</div>
                    </div>
                    <div class="card-body">
                        <div class="card-info">
                            <div class="info-item"><div class="info-label">ì‹ ê³ ë²ˆí˜¸</div><div class="info-value">ì œ 12351 í˜¸</div></div>
                            <div class="info-item"><div class="info-label">í˜œíƒ</div><div class="info-value">ë°©ì†¡ ì œì‘ ìê²©</div></div>
                            <div class="info-item"><div class="info-label">ìƒíƒœ</div><div class="info-value">ì‹ ê³  ì™„ë£Œ</div></div>
                            <div class="info-item"><div class="info-label">ìœ í˜•</div><div class="info-value">ì¸ì¦/ì‹ ê³ </div></div>
                        </div>
                        <div class="status-dropdown-wrapper">
                            <div class="status-dropdown-label">ìƒíƒœ ë³€ê²½</div>
                            <select class="status-dropdown status-passed" data-project-id="broadcast-producer" onchange="updateStatus(this)">
                                <option value="review">ğŸ” ê²€í† ì¤‘</option>
                                <option value="preparing">âœï¸ ì¤€ë¹„ì¤‘</option>
                                <option value="submitted">ğŸ“¤ ì œì¶œì™„ë£Œ</option>
                                <option value="evaluating">â³ ì‹¬ì‚¬ì¤‘</option>
                                <option value="passed" selected>âœ… í•©ê²©/ì™„ë£Œ</option>
                                <option value="pending">ğŸ”„ ë³´ì™„ì¤‘</option>
                            </select>
                        </div>
                        <div class="progress-section">
                            <div class="progress-header"><span class="progress-label">ì§„í–‰ë¥ </span><span class="progress-value">100%</span></div>
                            <div class="progress-bar"><div class="progress-fill" style="width: 100%"></div></div>
                        </div>
                        <a href="https://production.mcst.go.kr/user/main.do" target="_blank" class="link-btn">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" /></svg>
                            ì‹ ê³ ì‹œìŠ¤í…œ ë°”ë¡œê°€ê¸°
                        </a>
                    </div>
                </div>

                <!-- Card 7: í•œêµ­ì €ì‘ê¶Œìœ„ì›íšŒ ë“±ë¡ -->
                <div class="project-card visible" data-stage="pending" data-project-id="copyright">
                    <div class="card-header">
                        <div>
                            <span class="card-badge badge-pending">ğŸ”„ ë³´ì™„ì¤‘</span>
                            <div class="card-title">í•œêµ­ì €ì‘ê¶Œìœ„ì›íšŒ ë“±ë¡</div>
                            <div class="card-org">í•œêµ­ì €ì‘ê¶Œìœ„ì›íšŒ</div>
                        </div>
                        <div class="d-day warning">ì§„í–‰ì¤‘</div>
                    </div>
                    <div class="card-body">
                        <div class="card-info">
                            <div class="info-item"><div class="info-label">ì‹ ì²­ë‚´ìš©</div><div class="info-value">ì €ì‘ê¶Œ ë“±ë¡</div></div>
                            <div class="info-item"><div class="info-label">í˜„ì¬ìƒíƒœ</div><div class="info-value">ë³´ì™„ì‚¬í•­ í•´ê²° ì¤‘</div></div>
                            <div class="info-item"><div class="info-label">í˜œíƒ</div><div class="info-value">ì €ì‘ê¶Œ ë³´í˜¸</div></div>
                            <div class="info-item"><div class="info-label">ìœ í˜•</div><div class="info-value">ì¸ì¦/ì‹ ê³ </div></div>
                        </div>
                        <div class="status-dropdown-wrapper">
                            <div class="status-dropdown-label">ìƒíƒœ ë³€ê²½</div>
                            <select class="status-dropdown status-pending" data-project-id="copyright" onchange="updateStatus(this)">
                                <option value="review">ğŸ” ê²€í† ì¤‘</option>
                                <option value="preparing">âœï¸ ì¤€ë¹„ì¤‘</option>
                                <option value="submitted">ğŸ“¤ ì œì¶œì™„ë£Œ</option>
                                <option value="evaluating">â³ ì‹¬ì‚¬ì¤‘</option>
                                <option value="passed">âœ… í•©ê²©/ì™„ë£Œ</option>
                                <option value="pending" selected>ğŸ”„ ë³´ì™„ì¤‘</option>
                            </select>
                        </div>
                        <div class="progress-section">
                            <div class="progress-header"><span class="progress-label">ì§„í–‰ë¥ </span><span class="progress-value">60%</span></div>
                            <div class="progress-bar"><div class="progress-fill" style="width: 60%"></div></div>
                        </div>
                        <a href="https://www.cros.or.kr/psnsys/cmmn/infoPage.do?w2xPath=/ui/main/main.xml" target="_blank" class="link-btn">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" /></svg>
                            ì €ì‘ê¶Œë“±ë¡ì‹œìŠ¤í…œ ë°”ë¡œê°€ê¸°
                        </a>
                    </div>
                </div>
            </div>
            <div class="empty-state" id="emptyState"><div class="empty-icon">ğŸ“­</div><div class="empty-text">í•´ë‹¹ ë‹¨ê³„ì˜ ì‚¬ì—…ì´ ì—†ìŠµë‹ˆë‹¤.</div></div>
        </div>
        <div class="footer">
            <p>STEP AI Inc. â€” ë‚´ë¶€ í˜‘ì—…ìš© ë¬¸ì„œ</p>
            <p style="margin-top: 10px;"><a href="https://kculture-detail.vercel.app/" target="_blank">K-Culture ëŒ€ì¤‘ì†Œ ê³µë™ë„ì•½ ìƒì„¸ â†’</a></p>
        </div>
    </div>

    <!-- Save Indicator -->
    <div class="save-indicator" id="saveIndicator"></div>

    <script>
        // Supabase Configuration
        const SUPABASE_URL = 'https://yihgjkfyaynfjbodefzm.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlpaGdqa2Z5YXluZmpib2RlZnptIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAwNjQ4NTQsImV4cCI6MjA4NTY0MDg1NH0.KS6L2v3UtB3QJdYeW1tW-Kna_wlHO_37Ykq6jiueIMg';

        const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

        const stages = document.querySelectorAll('.pipeline-stage');
        const cards = document.querySelectorAll('.project-card');
        const filterInfo = document.getElementById('filterInfo');
        const emptyState = document.getElementById('emptyState');
        const saveIndicator = document.getElementById('saveIndicator');

        const stageLabels = {
            'all': 'ì „ì²´',
            'review': 'ê²€í† ì¤‘',
            'preparing': 'ì¤€ë¹„ì¤‘',
            'submitted': 'ì œì¶œì™„ë£Œ',
            'evaluating': 'ì‹¬ì‚¬ì¤‘',
            'passed': 'í•©ê²©/ì™„ë£Œ',
            'pending': 'ë³´ì™„ì¤‘'
        };

        const badgeConfig = {
            'review': { class: 'badge-review', icon: 'ğŸ”', text: 'ê²€í† ì¤‘' },
            'preparing': { class: 'badge-preparing', icon: 'âœï¸', text: 'ì¤€ë¹„ì¤‘' },
            'submitted': { class: 'badge-submitted', icon: 'ğŸ“¤', text: 'ì œì¶œì™„ë£Œ' },
            'evaluating': { class: 'badge-evaluating', icon: 'â³', text: 'ì‹¬ì‚¬ì¤‘' },
            'passed': { class: 'badge-passed', icon: 'âœ…', text: 'ì™„ë£Œ' },
            'pending': { class: 'badge-pending', icon: 'ğŸ”„', text: 'ë³´ì™„ì¤‘' }
        };

        // Show save indicator
        function showIndicator(type, message) {
            saveIndicator.className = 'save-indicator show ' + type;
            saveIndicator.textContent = message;
            if (type !== 'saving') {
                setTimeout(() => {
                    saveIndicator.classList.remove('show');
                }, 2000);
            }
        }

        // Load statuses from Supabase
        async function loadStatuses() {
            try {
                const { data, error } = await supabase
                    .from('gov_projects')
                    .select('project_id, status');

                if (error) throw error;

                if (data) {
                    data.forEach(project => {
                        const dropdown = document.querySelector(`select[data-project-id="${project.project_id}"]`);
                        if (dropdown && project.status) {
                            dropdown.value = project.status;
                            applyStatusToCard(project.project_id, project.status);
                        }
                    });
                }
                updateCounts();
            } catch (error) {
                console.error('Error loading statuses:', error);
            }
        }

        // Update status in Supabase
        async function updateStatus(selectElement) {
            const projectId = selectElement.dataset.projectId;
            const newStatus = selectElement.value;

            showIndicator('saving', 'ì €ì¥ ì¤‘...');

            try {
                const { error } = await supabase
                    .from('gov_projects')
                    .upsert({
                        project_id: projectId,
                        status: newStatus,
                        updated_at: new Date().toISOString()
                    }, {
                        onConflict: 'project_id'
                    });

                if (error) throw error;

                applyStatusToCard(projectId, newStatus);
                updateCounts();
                showIndicator('saved', 'âœ“ ì €ì¥ë¨');
            } catch (error) {
                console.error('Error updating status:', error);
                showIndicator('error', 'ì €ì¥ ì‹¤íŒ¨');
            }
        }

        // Apply status changes to card UI
        function applyStatusToCard(projectId, status) {
            const card = document.querySelector(`[data-project-id="${projectId}"].project-card`);
            if (!card) return;

            // Update data-stage attribute
            card.dataset.stage = status;

            // Update badge
            const badge = card.querySelector('.card-badge');
            if (badge && badgeConfig[status]) {
                badge.className = 'card-badge badge-' + status;
                badge.textContent = badgeConfig[status].icon + ' ' + badgeConfig[status].text;
            }

            // Update dropdown style
            const dropdown = card.querySelector('.status-dropdown');
            if (dropdown) {
                dropdown.className = 'status-dropdown status-' + status;
            }
        }

        // Update pipeline counts
        function updateCounts() {
            const counts = {
                'all': 0,
                'review': 0,
                'preparing': 0,
                'submitted': 0,
                'evaluating': 0,
                'passed': 0,
                'pending': 0
            };

            cards.forEach(card => {
                const stage = card.dataset.stage;
                counts.all++;
                if (counts[stage] !== undefined) {
                    counts[stage]++;
                }
            });

            Object.keys(counts).forEach(key => {
                const countEl = document.getElementById('count-' + key);
                if (countEl) {
                    countEl.textContent = counts[key];
                }
            });

            // Update filter info based on active filter
            const activeStage = document.querySelector('.pipeline-stage.active');
            if (activeStage) {
                const filter = activeStage.dataset.filter;
                filterInfo.textContent = `${stageLabels[filter]} ${counts[filter]}ê±´`;
            }
        }

        // Filter cards by stage
        stages.forEach(stage => {
            stage.addEventListener('click', () => {
                stages.forEach(s => s.classList.remove('active'));
                stage.classList.add('active');
                const filter = stage.dataset.filter;
                let visibleCount = 0;

                cards.forEach(card => {
                    if (filter === 'all' || card.dataset.stage === filter) {
                        card.classList.add('visible');
                        visibleCount++;
                    } else {
                        card.classList.remove('visible');
                    }
                });

                filterInfo.textContent = `${stageLabels[filter]} ${visibleCount}ê±´`;

                if (visibleCount === 0) {
                    emptyState.classList.add('visible');
                } else {
                    emptyState.classList.remove('visible');
                }
            });
        });

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', () => {
            loadStatuses();
        });
    </script>
</body>
</html>
